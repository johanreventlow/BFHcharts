% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spc_analysis.R
\name{bfh_build_analysis_context}
\alias{bfh_build_analysis_context}
\title{Build Analysis Context from bfh_qic_result}
\usage{
bfh_build_analysis_context(x, metadata = list())
}
\arguments{
\item{x}{A \code{bfh_qic_result} object from \code{bfh_qic()}}

\item{metadata}{Optional list with additional context:
\itemize{
\item \code{data_definition}: Description of what the data represents
\item \code{target}: Target value for the metric
\item \code{hospital}: Hospital name
\item \code{department}: Department name
}}
}
\value{
Named list with complete context including:
\itemize{
\item \code{chart_title}: Chart title from config
\item \code{chart_type}: Chart type (i, p, c, u, etc.)
\item \code{y_axis_unit}: Y-axis unit label
\item \code{n_points}: Number of data points
\item \code{centerline}: Centerline value
\item \code{spc_stats}: SPC statistics from \code{bfh_extract_spc_stats()}
\item \code{signal_interpretations}: Danish interpretations from
\code{bfh_interpret_spc_signals()}
\item \code{has_signals}: Logical indicating if signals were detected
\item User-provided metadata fields
}
}
\description{
Collects all relevant context from a \code{bfh_qic_result} object for analysis
generation. Used internally by \code{bfh_generate_analysis()}.
}
\examples{
\dontrun{
result <- bfh_qic(data, x = date, y = value, chart_type = "i")
ctx <- bfh_build_analysis_context(result, metadata = list(hospital = "BFH"))
str(ctx)
}

}
