% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_core.R
\name{bfh_spc_plot}
\alias{bfh_spc_plot}
\title{Create BFH-Styled SPC Plot from QIC Data}
\usage{
bfh_spc_plot(
  qic_data,
  plot_config = spc_plot_config(),
  viewport = viewport_dims(),
  phase = NULL
)
}
\arguments{
\item{qic_data}{Data frame from qicharts2::qic() with return.data = TRUE}

\item{plot_config}{Plot configuration from \code{\link[=spc_plot_config]{spc_plot_config()}}}

\item{viewport}{Viewport dimensions from \code{\link[=viewport_dims]{viewport_dims()}}}

\item{phase}{Optional phase configuration from \code{\link[=phase_config]{phase_config()}}}
}
\value{
ggplot2 object
}
\description{
Builds a complete SPC chart visualization from qicharts2 calculation results.
This function handles plot construction, intelligent X-axis formatting,
Y-axis unit formatting, control limits, and enhancements.
}
\details{
\strong{Required columns in qic_data:}
\itemize{
\item \code{x}: X-axis values (Date, POSIXct, or numeric)
\item \code{y}: Y-axis values (numeric)
\item \code{cl}: Centerline values
\item \code{part}: Phase identifiers
}

\strong{Optional columns:}
\itemize{
\item \code{ucl}, \code{lcl}: Control limits
\item \code{target}: Target line
\item \code{anhoej.signal}: Anhoej signal detection (logical)
\item \code{.original_row_id}: For comment mapping
}

\strong{Intelligent Features:}
\itemize{
\item Automatic date interval detection and formatting
\item Unit-aware Y-axis formatting (count/percent/rate/time)
\item Extended lines (20\% beyond last data point)
\item Anhoej signal linetype switching
}
}
\examples{
\dontrun{
library(qicharts2)
library(BFHcharts)

# Calculate QIC data
data <- data.frame(
  month = seq(as.Date("2024-01-01"), by = "month", length.out = 24),
  value = rnorm(24, 100, 10)
)

qic_result <- qic(
  x = month,
  y = value,
  data = data,
  chart = "i",
  return.data = TRUE
)

# Create plot
config <- spc_plot_config(
  chart_type = "i",
  y_axis_unit = "count",
  chart_title = "Monthly Performance"
)

viewport <- viewport_dims(base_size = 14)

plot <- bfh_spc_plot(qic_result, config, viewport)
plot
}
}
